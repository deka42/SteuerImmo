<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immobilien-Steuer-Suite 2025 - Premium Edition</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Professionelle Steuerberatung f√ºr Immobilien - Berechnung von Abschreibungen, Steuern und Renditen">
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">üåô Dark Mode</button>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üè† Immobilien-Steuer-Suite 2025</h1>
            <p>Premium Edition - Professionelle Steuerberatung f√ºr Immobilieninvestoren</p>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('afa-rechner')">AfA-Rechner</button>
            <button class="nav-tab" onclick="showTab('steuer-rechner')">Steuer-Rechner</button>
            <button class="nav-tab" onclick="showTab('rendite-rechner')">Rendite-Rechner</button>
            <button class="nav-tab" onclick="showTab('vergleich')">Vergleichsrechner</button>
            <button class="nav-tab" onclick="showTab('tipps')">Steuer-Tipps</button>
        </div>

        <!-- AfA-Rechner Tab -->
        <div id="afa-rechner" class="tab-content active">
            <h2>AfA-Rechner (Abschreibung f√ºr Abnutzung)</h2>
            <div class="alert alert-info">
                <strong>Info:</strong> Berechnen Sie die j√§hrliche Abschreibung Ihrer Immobilie nach den aktuellen Steuergesetzen 2025.
            </div>

            <form id="afa-form">
                <div class="form-row">
                    <div class="form-col">
                        <label for="kaufpreis">Kaufpreis der Immobilie (‚Ç¨):</label>
                        <input type="number" id="kaufpreis" placeholder="z.B. 300000" required>
                    </div>
                    <div class="form-col">
                        <label for="grundstueckswert">Grundst√ºckswert (‚Ç¨):</label>
                        <input type="number" id="grundstueckswert" placeholder="z.B. 80000" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <label for="baujahr">Baujahr:</label>
                        <input type="number" id="baujahr" placeholder="z.B. 1995" required>
                    </div>
                    <div class="form-col">
                        <label for="gebaeudeart">Geb√§udeart:</label>
                        <select id="gebaeudeart" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="wohngebaeude">Wohngeb√§ude</option>
                            <option value="gewerbegebaeude">Gewerbegeb√§ude</option>
                            <option value="mischgebaeude">Mischgeb√§ude</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="nebenkosten">Erwerbsnebenkosten (‚Ç¨):</label>
                    <input type="number" id="nebenkosten" placeholder="z.B. 25000">
                </div>

                <button type="button" class="btn" onclick="berechneAfa()">AfA berechnen</button>
                <button type="button" class="btn btn-secondary" onclick="resetForm('afa-form')">Zur√ºcksetzen</button>
            </form>

            <div id="afa-result" class="result-section" style="display: none;">
                <h3>Berechnungsergebnis</h3>
                <div class="result-item">
                    <span class="result-label">Abschreibungsf√§higer Geb√§udewert:</span>
                    <span class="result-value" id="gebaeudewert">0 ‚Ç¨</span>
                </div>
                <div class="result-item">
                    <span class="result-label">AfA-Satz:</span>
                    <span class="result-value" id="afa-satz">0%</span>
                </div>
                <div class="result-item">
                    <span class="result-label">J√§hrliche AfA:</span>
                    <span class="result-value highlight" id="jaehrliche-afa">0 ‚Ç¨</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Monatliche AfA:</span>
                    <span class="result-value" id="monatliche-afa">0 ‚Ç¨</span>
                </div>
            </div>
        </div>

        <!-- Steuer-Rechner Tab -->
        <div id="steuer-rechner" class="tab-content">
            <h2>Steuer-Rechner f√ºr Immobilien</h2>
            <div class="alert alert-warning">
                <strong>Hinweis:</strong> Diese Berechnung dient nur zur Orientierung. Konsultieren Sie f√ºr verbindliche Aussagen einen Steuerberater.
            </div>

            <form id="steuer-form">
                <div class="form-row">
                    <div class="form-col">
                        <label for="mieteinnahmen">J√§hrliche Mieteinnahmen (‚Ç¨):</label>
                        <input type="number" id="mieteinnahmen" placeholder="z.B. 18000" required>
                    </div>
                    <div class="form-col">
                        <label for="werbungskosten">Werbungskosten (‚Ç¨):</label>
                        <input type="number" id="werbungskosten" placeholder="z.B. 5000" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <label for="afa-betrag">AfA-Betrag (‚Ç¨):</label>
                        <input type="number" id="afa-betrag" placeholder="z.B. 4400" required>
                    </div>
                    <div class="form-col">
                        <label for="grenzsteuersatz">Pers√∂nlicher Grenzsteuersatz (%):</label>
                        <select id="grenzsteuersatz" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="14">14% (bis 11.604 ‚Ç¨)</option>
                            <option value="24">24% (bis 17.005 ‚Ç¨)</option>
                            <option value="32">32% (bis 66.760 ‚Ç¨)</option>
                            <option value="42">42% (bis 277.825 ‚Ç¨)</option>
                            <option value="45">45% (√ºber 277.825 ‚Ç¨)</option>
                        </select>
                    </div>
                </div>

                <button type="button" class="btn" onclick="berechneSteuer()">Steuer berechnen</button>
                <button type="button" class="btn btn-secondary" onclick="resetForm('steuer-form')">Zur√ºcksetzen</button>
            </form>

            <div id="steuer-result" class="result-section" style="display: none;">
                <h3>Steuerliche Auswirkung</h3>
                <div class="result-item">
                    <span class="result-label">Mieteinnahmen:</span>
                    <span class="result-value" id="steuer-mieteinnahmen">0 ‚Ç¨</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Abzugsf√§hige Kosten:</span>
                    <span class="result-value" id="steuer-kosten">0 ‚Ç¨</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Zu versteuerndes Einkommen:</span>
                    <span class="result-value" id="steuer-einkommen">0 ‚Ç¨</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Steuerersparnis/Mehrsteuern:</span>
                    <span class="result-value highlight" id="steuer-ersparnis">0 ‚Ç¨</span>
                </div>
            </div>
        </div>

        <!-- Rendite-Rechner Tab -->
        <div id="rendite-rechner" class="tab-content">
            <h2>Rendite-Rechner</h2>
            <div class="alert alert-info">
                <strong>Info:</strong> Berechnen Sie die Brutto- und Nettorendite Ihrer Immobilieninvestition.
            </div>

            <form id="rendite-form">
                <div class="form-row">
                    <div class="form-col">
                        <label for="rendite-kaufpreis">Gesamtinvestition (‚Ç¨):</label>
                        <input type="number" id="rendite-kaufpreis" placeholder="z.B. 325000" required>
                    </div>
                    <div class="form-col">
                        <label for="rendite-mieteinnahmen">J√§hrliche Mieteinnahmen (‚Ç¨):</label>
                        <input type="number" id="rendite-mieteinnahmen" placeholder="z.B. 18000" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <label for="rendite-kosten">J√§hrliche Kosten (‚Ç¨):</label>
                        <input type="number" id="rendite-kosten" placeholder="z.B. 3000" required>
                    </div>
                    <div class="form-col">
                        <label for="eigenkapital">Eigenkapital (‚Ç¨):</label>
                        <input type="number" id="eigenkapital" placeholder="z.B. 65000" required>
                    </div>
                </div>

                <button type="button" class="btn" onclick="berechneRendite()">Rendite berechnen</button>
                <button type="button" class="btn btn-secondary" onclick="resetForm('rendite-form')">Zur√ºcksetzen</button>
            </form>

            <div id="rendite-result" class="result-section" style="display: none;">
                <h3>Rendite-Analyse</h3>
                <div class="result-item">
                    <span class="result-label">Bruttomietrendite:</span>
                    <span class="result-value" id="brutto-rendite">0%</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Nettomietrendite:</span>
                    <span class="result-value" id="netto-rendite">0%</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Eigenkapitalrendite:</span>
                    <span class="result-value highlight" id="eigenkapital-rendite">0%</span>
                </div>
                <div class="result-item">
                    <span class="result-label">J√§hrlicher Cashflow:</span>
                    <span class="result-value" id="cashflow">0 ‚Ç¨</span>
                </div>
            </div>
        </div>

        <!-- Vergleichsrechner Tab -->
        <div id="vergleich" class="tab-content">
            <h2>Immobilien-Vergleichsrechner</h2>
            <div class="alert alert-info">
                <strong>Info:</strong> Vergleichen Sie bis zu zwei Immobilien direkt miteinander.
            </div>

            <div class="form-row">
                <div class="form-col">
                    <div class="card">
                        <h3>Immobilie A</h3>
                        <div class="form-group">
                            <label for="vergleich-a-preis">Kaufpreis (‚Ç¨):</label>
                            <input type="number" id="vergleich-a-preis" placeholder="z.B. 300000">
                        </div>
                        <div class="form-group">
                            <label for="vergleich-a-miete">J√§hrliche Miete (‚Ç¨):</label>
                            <input type="number" id="vergleich-a-miete" placeholder="z.B. 18000">
                        </div>
                        <div class="form-group">
                            <label for="vergleich-a-kosten">J√§hrliche Kosten (‚Ç¨):</label>
                            <input type="number" id="vergleich-a-kosten" placeholder="z.B. 3000">
                        </div>
                    </div>
                </div>
                <div class="form-col">
                    <div class="card">
                        <h3>Immobilie B</h3>
                        <div class="form-group">
                            <label for="vergleich-b-preis">Kaufpreis (‚Ç¨):</label>
                            <input type="number" id="vergleich-b-preis" placeholder="z.B. 250000">
                        </div>
                        <div class="form-group">
                            <label for="vergleich-b-miete">J√§hrliche Miete (‚Ç¨):</label>
                            <input type="number" id="vergleich-b-miete" placeholder="z.B. 15000">
                        </div>
                        <div class="form-group">
                            <label for="vergleich-b-kosten">J√§hrliche Kosten (‚Ç¨):</label>
                            <input type="number" id="vergleich-b-kosten" placeholder="z.B. 2500">
                        </div>
                    </div>
                </div>
            </div>

            <button type="button" class="btn" onclick="vergleicheImmobilien()">Vergleichen</button>
            <button type="button" class="btn btn-secondary" onclick="resetVergleich()">Zur√ºcksetzen</button>

            <div id="vergleich-result" class="result-section" style="display: none;">
                <h3>Vergleichsergebnis</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Kennzahl</th>
                                <th>Immobilie A</th>
                                <th>Immobilie B</th>
                                <th>Differenz</th>
                            </tr>
                        </thead>
                        <tbody id="vergleich-tabelle">
                            <!-- Wird dynamisch gef√ºllt -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Steuer-Tipps Tab -->
        <div id="tipps" class="tab-content">
            <h2>Steuer-Tipps f√ºr Immobilieninvestoren 2025</h2>
            
            <div class="card">
                <h3>üè† AfA-Optimierung</h3>
                <p><strong>Tipp:</strong> Nutzen Sie die degressive AfA f√ºr Neubauten (bis 31.12.2025). Hier k√∂nnen Sie im ersten Jahr bis zu 5% abschreiben, danach linear 2%.</p>
                <p><strong>Wichtig:</strong> Trennen Sie Grund und Boden vom Geb√§udewert. Nur der Geb√§udewert ist abschreibungsf√§hig.</p>
            </div>

            <div class="card">
                <h3>üí∞ Werbungskosten maximieren</h3>
                <p><strong>Absetzbar sind:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Verwaltungskosten</li>
                    <li>Instandhaltungskosten</li>
                    <li>Zinsen f√ºr Immobiliendarlehen</li>
                    <li>Versicherungen</li>
                    <li>Fahrtkosten zur Immobilie</li>
                    <li>Maklerkosten bei Neuvermietung</li>
                </ul>
            </div>

            <div class="card">
                <h3>üîß Modernisierung vs. Instandhaltung</h3>
                <p><strong>Instandhaltung:</strong> Sofort absetzbar (z.B. Reparaturen, Renovierung)</p>
                <p><strong>Modernisierung:</strong> √úber mehrere Jahre abschreibbar (z.B. neue Heizung, Dachausbau)</p>
                <p><strong>Tipp:</strong> Planen Sie gr√∂√üere Ma√ünahmen strategisch √ºber mehrere Jahre.</p>
            </div>

            <div class="card">
                <h3>üìä Verlustverrechnung</h3>
                <p><strong>Wichtig:</strong> Verluste aus Vermietung und Verpachtung k√∂nnen mit anderen Eink√ºnften verrechnet werden.</p>
                <p><strong>Strategie:</strong> In den ersten Jahren entstehen oft steuerliche Verluste durch hohe AfA und Zinsen.</p>
            </div>

            <div class="card">
                <h3>‚öñÔ∏è 10-Jahres-Frist beachten</h3>
                <p><strong>Spekulationsfrist:</strong> Verkauf nach 10 Jahren steuerfrei (bei Eigennutzung: 2 Jahre)</p>
                <p><strong>Tipp:</strong> Dokumentieren Sie alle Anschaffungs- und Herstellungskosten f√ºr sp√§tere Verk√§ufe.</p>
            </div>

            <div class="alert alert-warning">
                <strong>Rechtlicher Hinweis:</strong> Diese Informationen ersetzen keine individuelle Steuerberatung. 
                Konsultieren Sie bei komplexen Sachverhalten einen Steuerberater oder Rechtsanwalt.
            </div>
        </div>
    </div>

    <script>
        // Dark Mode Funktionalit√§t
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            
            const toggle = document.querySelector('.dark-mode-toggle');
            toggle.textContent = isDarkMode ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
        }

        // Dark Mode beim Laden der Seite wiederherstellen
        document.addEventListener('DOMContentLoaded', function() {
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            if (savedDarkMode) {
                document.body.classList.add('dark-mode');
                document.querySelector('.dark-mode-toggle').textContent = '‚òÄÔ∏è Light Mode';
            }
        });

        // Tab-Funktionalit√§t
        function showTab(tabName) {
            // Alle Tabs ausblenden
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Alle Tab-Buttons deaktivieren
            const tabButtons = document.querySelectorAll('.nav-tab');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Gew√§hlten Tab anzeigen
            document.getElementById(tabName).classList.add('active');
            
            // Entsprechenden Button aktivieren
            event.target.classList.add('active');
        }

        // AfA-Berechnung
        function berechneAfa() {
            const kaufpreis = parseFloat(document.getElementById('kaufpreis').value) || 0;
            const grundstueckswert = parseFloat(document.getElementById('grundstueckswert').value) || 0;
            const baujahr = parseInt(document.getElementById('baujahr').value) || 0;
            const gebaeudeart = document.getElementById('gebaeudeart').value;
            const nebenkosten = parseFloat(document.getElementById('nebenkosten').value) || 0;

            if (kaufpreis === 0 || grundstueckswert === 0 || baujahr === 0 || !gebaeudeart) {
                alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                return;
            }

            const gebaeudewert = kaufpreis - grundstueckswert + nebenkosten;
            let afaSatz = 0;

            // AfA-Satz bestimmen
            if (baujahr >= 1925) {
                afaSatz = gebaeudeart === 'wohngebaeude' ? 2.0 : 3.0;
            } else {
                afaSatz = gebaeudeart === 'wohngebaeude' ? 2.5 : 3.0;
            }

            // Degressive AfA f√ºr Neubauten (2023-2025)
            if (baujahr >= 2023 && gebaeudeart === 'wohngebaeude') {
                afaSatz = 5.0; // Erste Jahre degressive AfA
            }

            const jaehrlicheAfa = gebaeudewert * (afaSatz / 100);
            const monatlicheAfa = jaehrlicheAfa / 12;

            // Ergebnisse anzeigen
            document.getElementById('gebaeudewert').textContent = formatCurrency(gebaeudewert);
            document.getElementById('afa-satz').textContent = afaSatz.toFixed(1) + '%';
            document.getElementById('jaehrliche-afa').textContent = formatCurrency(jaehrlicheAfa);
            document.getElementById('monatliche-afa').textContent = formatCurrency(monatlicheAfa);
            
            document.getElementById('afa-result').style.display = 'block';
        }

        // Steuer-Berechnung
        function berechneSteuer() {
            const mieteinnahmen = parseFloat(document.getElementById('mieteinnahmen').value) || 0;
            const werbungskosten = parseFloat(document.getElementById('werbungskosten').value) || 0;
            const afaBetrag = parseFloat(document.getElementById('afa-betrag').value) || 0;
            const grenzsteuersatz = parseFloat(document.getElementById('grenzsteuersatz').value) || 0;

            if (mieteinnahmen === 0 || grenzsteuersatz === 0) {
                alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                return;
            }

            const gesamtkosten = werbungskosten + afaBetrag;
            const zuVersteuerndesEinkommen = mieteinnahmen - gesamtkosten;
            const steuerauswirkung = zuVersteuerndesEinkommen * (grenzsteuersatz / 100);

            // Ergebnisse anzeigen
            document.getElementById('steuer-mieteinnahmen').textContent = formatCurrency(mieteinnahmen);
            document.getElementById('steuer-kosten').textContent = formatCurrency(gesamtkosten);
            document.getElementById('steuer-einkommen').textContent = formatCurrency(zuVersteuerndesEinkommen);
            
            const ersparnis = document.getElementById('steuer-ersparnis');
            if (steuerauswirkung < 0) {
                ersparnis.textContent = formatCurrency(Math.abs(steuerauswirkung)) + ' (Ersparnis)';
                ersparnis.style.color = '#27ae60';
            } else {
                ersparnis.textContent = formatCurrency(steuerauswirkung) + ' (Mehrsteuer)';
                ersparnis.style.color = '#e74c3c';
            }
            
            document.getElementById('steuer-result').style.display = 'block';
        }

        // Rendite-Berechnung
        function berechneRendite() {
            const kaufpreis = parseFloat(document.getElementById('rendite-kaufpreis').value) || 0;
            const mieteinnahmen = parseFloat(document.getElementById('rendite-mieteinnahmen').value) || 0;
            const kosten = parseFloat(document.getElementById('rendite-kosten').value) || 0;
            const eigenkapital = parseFloat(document.getElementById('eigenkapital').value) || 0;

            if (kaufpreis === 0 || mieteinnahmen === 0 || eigenkapital === 0) {
                alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                return;
            }

            const bruttoRendite = (mieteinnahmen / kaufpreis) * 100;
            const nettoRendite = ((mieteinnahmen - kosten) / kaufpreis) * 100;
            const cashflow = mieteinnahmen - kosten;
            const eigenkapitalRendite = (cashflow / eigenkapital) * 100;

            // Ergebnisse anzeigen
            document.getElementById('brutto-rendite').textContent = bruttoRendite.toFixed(2) + '%';
            document.getElementById('netto-rendite').textContent = nettoRendite.toFixed(2) + '%';
            document.getElementById('eigenkapital-rendite').textContent = eigenkapitalRendite.toFixed(2) + '%';
            document.getElementById('cashflow').textContent = formatCurrency(cashflow);
            
            document.getElementById('rendite-result').style.display = 'block';
        }

        // Immobilien-Vergleich
        function vergleicheImmobilien() {
            const preisA = parseFloat(document.getElementById('vergleich-a-preis').value) || 0;
            const mieteA = parseFloat(document.getElementById('vergleich-a-miete').value) || 0;
            const kostenA = parseFloat(document.getElementById('vergleich-a-kosten').value) || 0;
            
            const preisB = parseFloat(document.getElementById('vergleich-b-preis').value) || 0;
            const mieteB = parseFloat(document.getElementById('vergleich-b-miete').value) || 0;
            const kostenB = parseFloat(document.getElementById('vergleich-b-kosten').value) || 0;

            if (preisA === 0 || mieteA === 0 || preisB === 0 || mieteB === 0) {
                alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                return;
            }

            const bruttoRenditeA = (mieteA / preisA) * 100;
            const bruttoRenditeB = (mieteB / preisB) * 100;
            const nettoRenditeA = ((mieteA - kostenA) / preisA) * 100;
            const nettoRenditeB = ((mieteB - kostenB) / preisB) * 100;
            const cashflowA = mieteA - kostenA;
            const cashflowB = mieteB - kostenB;

            const tabelle = document.getElementById('vergleich-tabelle');
            tabelle.innerHTML = `
                <tr>
                    <td>Kaufpreis</td>
                    <td>${formatCurrency(preisA)}</td>
                    <td>${formatCurrency(preisB)}</td>
                    <td>${formatCurrency(preisB - preisA)}</td>
                </tr>
                <tr>
                    <td>Bruttomietrendite</td>
                    <td>${bruttoRenditeA.toFixed(2)}%</td>
                    <td>${bruttoRenditeB.toFixed(2)}%</td>
                    <td>${(bruttoRenditeB - bruttoRenditeA).toFixed(2)}%</td>
                </tr>
                <tr>
                    <td>Nettomietrendite</td>
                    <td>${nettoRenditeA.toFixed(2)}%</td>
                    <td>${nettoRenditeB.toFixed(2)}%</td>
                    <td>${(nettoRenditeB - nettoRenditeA).toFixed(2)}%</td>
                </tr>
                <tr>
                    <td>J√§hrlicher Cashflow</td>
                    <td>${formatCurrency(cashflowA)}</td>
                    <td>${formatCurrency(cashflowB)}</td>
                    <td>${formatCurrency(cashflowB - cashflowA)}</td>
                </tr>
            `;

            document.getElementById('vergleich-result').style.display = 'block';
        }

        // Hilfsfunktionen
        function formatCurrency(amount) {
            return new Intl.NumberFormat('de-DE', {
                style: 'currency',
                currency: 'EUR',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function resetForm(formId) {
            document.getElementById(formId).reset();
            const resultId = formId.replace('-form', '-result');
            const resultElement = document.getElementById(resultId);
            if (resultElement) {
                resultElement.style.display = 'none';
            }
        }

        function resetVergleich() {
            document.getElementById('vergleich-a-preis').value = '';
            document.getElementById('vergleich-a-miete').value = '';
            document.getElementById('vergleich-a-kosten').value = '';
            document.getElementById('vergleich-b-preis').value = '';
            document.getElementById('vergleich-b-miete').value = '';
            document.getElementById('vergleich-b-kosten').value = '';
            document.getElementById('vergleich-result').style.display = 'none';
        }
    </script>
</body>
</html>