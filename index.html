<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immobilien-Steuer-Suite 2025 - Premium Edition</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">üåô Dark Mode</button>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üè† Immobilien-Steuer-Suite 2025</h1>
            <p>Premium Edition - Professionelle Steuerberechnung f√ºr Immobilien</p>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('grundsteuer')">Grundsteuer</button>
            <button class="nav-tab" onclick="showTab('abschreibung')">AfA-Rechner</button>
            <button class="nav-tab" onclick="showTab('spekulationssteuer')">Spekulationssteuer</button>
            <button class="nav-tab" onclick="showTab('vermietung')">Vermietung & Verpachtung</button>
            <button class="nav-tab" onclick="showTab('kaufnebenkosten')">Kaufnebenkosten</button>
            <button class="nav-tab" onclick="showTab('rendite')">Rendite-Rechner</button>
        </div>

        <!-- Grundsteuer Tab -->
        <div id="grundsteuer" class="tab-content active">
            <h2>Grundsteuer-Rechner 2025</h2>
            <div class="alert alert-info">
                <strong>Hinweis:</strong> Die Grundsteuerreform ist seit 2025 vollst√§ndig in Kraft. Nutzen Sie unseren Rechner f√ºr eine erste Einsch√§tzung.
            </div>
            
            <form id="grundsteuerForm">
                <div class="form-row">
                    <div class="form-col">
                        <label for="grundstueckswert">Grundst√ºckswert (‚Ç¨):</label>
                        <input type="number" id="grundstueckswert" placeholder="z.B. 250000" required>
                    </div>
                    <div class="form-col">
                        <label for="gebaeudewert">Geb√§udewert (‚Ç¨):</label>
                        <input type="number" id="gebaeudewert" placeholder="z.B. 350000" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="bundesland">Bundesland:</label>
                        <select id="bundesland" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="bw">Baden-W√ºrttemberg</option>
                            <option value="by">Bayern</option>
                            <option value="be">Berlin</option>
                            <option value="bb">Brandenburg</option>
                            <option value="hb">Bremen</option>
                            <option value="hh">Hamburg</option>
                            <option value="he">Hessen</option>
                            <option value="mv">Mecklenburg-Vorpommern</option>
                            <option value="ni">Niedersachsen</option>
                            <option value="nw">Nordrhein-Westfalen</option>
                            <option value="rp">Rheinland-Pfalz</option>
                            <option value="sl">Saarland</option>
                            <option value="sn">Sachsen</option>
                            <option value="st">Sachsen-Anhalt</option>
                            <option value="sh">Schleswig-Holstein</option>
                            <option value="th">Th√ºringen</option>
                        </select>
                    </div>
                    <div class="form-col">
                        <label for="gemeinde">Gemeinde/Stadt:</label>
                        <input type="text" id="gemeinde" placeholder="z.B. M√ºnchen" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="wohnflaeche">Wohnfl√§che (m¬≤):</label>
                        <input type="number" id="wohnflaeche" placeholder="z.B. 120" required>
                    </div>
                    <div class="form-col">
                        <label for="grundstuecksflaeche">Grundst√ºcksfl√§che (m¬≤):</label>
                        <input type="number" id="grundstuecksflaeche" placeholder="z.B. 500" required>
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="calculateGrundsteuer()">Grundsteuer berechnen</button>
            </form>
            
            <div id="grundsteuerResult" class="result-section" style="display: none;">
                <h3>Berechnungsergebnis</h3>
                <div class="result-item">
                    <span class="result-label">Grundsteuerwert:</span>
                    <span class="result-value" id="grundsteuerwert">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Grundsteuermessbetrag:</span>
                    <span class="result-value" id="grundsteuermessbetrag">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Hebesatz (gesch√§tzt):</span>
                    <span class="result-value" id="hebesatz">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">J√§hrliche Grundsteuer:</span>
                    <span class="result-value highlight" id="jaehrlicheGrundsteuer">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Monatliche Grundsteuer:</span>
                    <span class="result-value" id="monatlicheGrundsteuer">-</span>
                </div>
            </div>
        </div>

        <!-- AfA-Rechner Tab -->
        <div id="abschreibung" class="tab-content">
            <h2>AfA-Rechner (Abschreibung f√ºr Abnutzung)</h2>
            <div class="alert alert-info">
                <strong>Tipp:</strong> Die AfA erm√∂glicht es, die Anschaffungskosten von Immobilien steuerlich √ºber mehrere Jahre abzuschreiben.
            </div>
            
            <form id="afaForm">
                <div class="form-row">
                    <div class="form-col">
                        <label for="anschaffungskosten">Anschaffungskosten Geb√§ude (‚Ç¨):</label>
                        <input type="number" id="anschaffungskosten" placeholder="z.B. 400000" required>
                    </div>
                    <div class="form-col">
                        <label for="baujahr">Baujahr:</label>
                        <input type="number" id="baujahr" placeholder="z.B. 2020" min="1900" max="2025" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="nutzungsart">Nutzungsart:</label>
                        <select id="nutzungsart" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="wohngebaeude">Wohngeb√§ude</option>
                            <option value="gewerbegebaeude">Gewerbegeb√§ude</option>
                            <option value="mischnutzung">Mischnutzung</option>
                        </select>
                    </div>
                    <div class="form-col">
                        <label for="anschaffungsjahr">Anschaffungsjahr:</label>
                        <input type="number" id="anschaffungsjahr" placeholder="z.B. 2024" min="1900" max="2025" required>
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="calculateAfa()">AfA berechnen</button>
            </form>
            
            <div id="afaResult" class="result-section" style="display: none;">
                <h3>AfA-Berechnung</h3>
                <div class="result-item">
                    <span class="result-label">AfA-Satz:</span>
                    <span class="result-value" id="afaSatz">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">J√§hrliche AfA:</span>
                    <span class="result-value highlight" id="jaehrlicheAfa">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Monatliche AfA:</span>
                    <span class="result-value" id="monatlicheAfa">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Gesamte Abschreibungsdauer:</span>
                    <span class="result-value" id="abschreibungsdauer">-</span>
                </div>
            </div>
        </div>

        <!-- Spekulationssteuer Tab -->
        <div id="spekulationssteuer" class="tab-content">
            <h2>Spekulationssteuer-Rechner</h2>
            <div class="alert alert-warning">
                <strong>Wichtig:</strong> Die Spekulationssteuer f√§llt an, wenn Sie eine Immobilie innerhalb von 10 Jahren nach Kauf wieder verkaufen.
            </div>
            
            <form id="spekulationssteuerForm">
                <div class="form-row">
                    <div class="form-col">
                        <label for="kaufpreis">Kaufpreis (‚Ç¨):</label>
                        <input type="number" id="kaufpreis" placeholder="z.B. 500000" required>
                    </div>
                    <div class="form-col">
                        <label for="verkaufspreis">Verkaufspreis (‚Ç¨):</label>
                        <input type="number" id="verkaufspreis" placeholder="z.B. 600000" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="kaufdatum">Kaufdatum:</label>
                        <input type="date" id="kaufdatum" required>
                    </div>
                    <div class="form-col">
                        <label for="verkaufsdatum">Verkaufsdatum:</label>
                        <input type="date" id="verkaufsdatum" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="werbungskosten">Werbungskosten (‚Ç¨):</label>
                        <input type="number" id="werbungskosten" placeholder="z.B. 15000" value="0">
                    </div>
                    <div class="form-col">
                        <label for="steuersatz">Pers√∂nlicher Steuersatz (%):</label>
                        <input type="number" id="steuersatz" placeholder="z.B. 42" min="0" max="45" required>
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="calculateSpekulationssteuer()">Spekulationssteuer berechnen</button>
            </form>
            
            <div id="spekulationssteuerResult" class="result-section" style="display: none;">
                <h3>Spekulationssteuer-Berechnung</h3>
                <div class="result-item">
                    <span class="result-label">Haltedauer:</span>
                    <span class="result-value" id="haltedauer">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Ver√§u√üerungsgewinn:</span>
                    <span class="result-value" id="veraeusserungsgewinn">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Spekulationssteuerpflichtig:</span>
                    <span class="result-value" id="steuerpflichtig">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Spekulationssteuer:</span>
                    <span class="result-value highlight" id="spekulationssteuerBetrag">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Nettogewinn nach Steuern:</span>
                    <span class="result-value" id="nettogewinn">-</span>
                </div>
            </div>
        </div>

        <!-- Vermietung & Verpachtung Tab -->
        <div id="vermietung" class="tab-content">
            <h2>Vermietung & Verpachtung</h2>
            <div class="alert alert-success">
                <strong>Steuervorteile:</strong> Eink√ºnfte aus Vermietung und Verpachtung k√∂nnen durch verschiedene Ausgaben gemindert werden.
            </div>
            
            <form id="vermietungForm">
                <div class="form-row">
                    <div class="form-col">
                        <label for="mieteinnahmen">J√§hrliche Mieteinnahmen (‚Ç¨):</label>
                        <input type="number" id="mieteinnahmen" placeholder="z.B. 24000" required>
                    </div>
                    <div class="form-col">
                        <label for="nebenkosten">Umlagef√§hige Nebenkosten (‚Ç¨):</label>
                        <input type="number" id="nebenkosten" placeholder="z.B. 3000" value="0">
                    </div>
                </div>
                
                <h3>Werbungskosten</h3>
                <div class="form-row">
                    <div class="form-col">
                        <label for="afa">AfA (j√§hrlich) (‚Ç¨):</label>
                        <input type="number" id="afa" placeholder="z.B. 8000" value="0">
                    </div>
                    <div class="form-col">
                        <label for="zinsen">Darlehenszinsen (‚Ç¨):</label>
                        <input type="number" id="zinsen" placeholder="z.B. 12000" value="0">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="verwaltungskosten">Verwaltungskosten (‚Ç¨):</label>
                        <input type="number" id="verwaltungskosten" placeholder="z.B. 1200" value="0">
                    </div>
                    <div class="form-col">
                        <label for="instandhaltung">Instandhaltung/Reparaturen (‚Ç¨):</label>
                        <input type="number" id="instandhaltung" placeholder="z.B. 2000" value="0">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="versicherungen">Versicherungen (‚Ç¨):</label>
                        <input type="number" id="versicherungen" placeholder="z.B. 800" value="0">
                    </div>
                    <div class="form-col">
                        <label for="sonstigeKosten">Sonstige Kosten (‚Ç¨):</label>
                        <input type="number" id="sonstigeKosten" placeholder="z.B. 500" value="0">
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="calculateVermietung()">Berechnung durchf√ºhren</button>
            </form>
            
            <div id="vermietungResult" class="result-section" style="display: none;">
                <h3>Ergebnis Vermietung & Verpachtung</h3>
                <div class="result-item">
                    <span class="result-label">Brutto-Mieteinnahmen:</span>
                    <span class="result-value" id="bruttoMiete">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Gesamte Werbungskosten:</span>
                    <span class="result-value" id="gesamtWerbungskosten">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Zu versteuernder √úberschuss:</span>
                    <span class="result-value highlight" id="versteuerbarerUeberschuss">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Monatlicher √úberschuss:</span>
                    <span class="result-value" id="monatlicherUeberschuss">-</span>
                </div>
            </div>
        </div>

        <!-- Kaufnebenkosten Tab -->
        <div id="kaufnebenkosten" class="tab-content">
            <h2>Kaufnebenkosten-Rechner</h2>
            <div class="alert alert-info">
                <strong>Hinweis:</strong> Kaufnebenkosten k√∂nnen je nach Bundesland zwischen 8% und 15% des Kaufpreises betragen.
            </div>
            
            <form id="kaufnebenkostenForm">
                <div class="form-row">
                    <div class="form-col">
                        <label for="immobilienpreis">Kaufpreis der Immobilie (‚Ç¨):</label>
                        <input type="number" id="immobilienpreis" placeholder="z.B. 500000" required>
                    </div>
                    <div class="form-col">
                        <label for="bundeslandNebenkosten">Bundesland:</label>
                        <select id="bundeslandNebenkosten" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="bw">Baden-W√ºrttemberg</option>
                            <option value="by">Bayern</option>
                            <option value="be">Berlin</option>
                            <option value="bb">Brandenburg</option>
                            <option value="hb">Bremen</option>
                            <option value="hh">Hamburg</option>
                            <option value="he">Hessen</option>
                            <option value="mv">Mecklenburg-Vorpommern</option>
                            <option value="ni">Niedersachsen</option>
                            <option value="nw">Nordrhein-Westfalen</option>
                            <option value="rp">Rheinland-Pfalz</option>
                            <option value="sl">Saarland</option>
                            <option value="sn">Sachsen</option>
                            <option value="st">Sachsen-Anhalt</option>
                            <option value="sh">Schleswig-Holstein</option>
                            <option value="th">Th√ºringen</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="maklerProvision">Maklerprovision (%):</label>
                        <input type="number" id="maklerProvision" placeholder="z.B. 3.57" step="0.01" value="0">
                    </div>
                    <div class="form-col">
                        <label for="notarkosten">Individuelle Notarkosten (‚Ç¨):</label>
                        <input type="number" id="notarkosten" placeholder="Optional - wird sonst gesch√§tzt" value="0">
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="calculateKaufnebenkosten()">Kaufnebenkosten berechnen</button>
            </form>
            
            <div id="kaufnebenkostenResult" class="result-section" style="display: none;">
                <h3>Kaufnebenkosten-Aufstellung</h3>
                <div class="result-item">
                    <span class="result-label">Grunderwerbsteuer:</span>
                    <span class="result-value" id="grunderwerbsteuer">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Notarkosten:</span>
                    <span class="result-value" id="notarkostenResult">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Grundbuchkosten:</span>
                    <span class="result-value" id="grundbuchkosten">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Maklerprovision:</span>
                    <span class="result-value" id="maklerProvisionResult">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Gesamte Kaufnebenkosten:</span>
                    <span class="result-value highlight" id="gesamtKaufnebenkosten">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Gesamtinvestition:</span>
                    <span class="result-value highlight" id="gesamtinvestition">-</span>
                </div>
            </div>
        </div>

        <!-- Rendite-Rechner Tab -->
        <div id="rendite" class="tab-content">
            <h2>Rendite-Rechner</h2>
            <div class="alert alert-success">
                <strong>Investition bewerten:</strong> Berechnen Sie die Brutto- und Nettomietrendite Ihrer Immobilie.
            </div>
            
            <form id="renditeForm">
                <div class="form-row">
                    <div class="form-col">
                        <label for="kaufpreisRendite">Kaufpreis (‚Ç¨):</label>
                        <input type="number" id="kaufpreisRendite" placeholder="z.B. 400000" required>
                    </div>
                    <div class="form-col">
                        <label for="kaufnebenkostenRendite">Kaufnebenkosten (‚Ç¨):</label>
                        <input type="number" id="kaufnebenkostenRendite" placeholder="z.B. 40000" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="jaehrlicheMiete">J√§hrliche Kaltmiete (‚Ç¨):</label>
                        <input type="number" id="jaehrlicheMiete" placeholder="z.B. 18000" required>
                    </div>
                    <div class="form-col">
                        <label for="bewirtschaftungskosten">Bewirtschaftungskosten/Jahr (‚Ç¨):</label>
                        <input type="number" id="bewirtschaftungskosten" placeholder="z.B. 3000" value="0">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <label for="leerstand">Leerstand (% pro Jahr):</label>
                        <input type="number" id="leerstand" placeholder="z.B. 5" step="0.1" value="0">
                    </div>
                    <div class="form-col">
                        <label for="instandhaltungsruecklage">Instandhaltungsr√ºcklage/Jahr (‚Ç¨):</label>
                        <input type="number" id="instandhaltungsruecklage" placeholder="z.B. 2000" value="0">
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="calculateRendite()">Rendite berechnen</button>
            </form>
            
            <div id="renditeResult" class="result-section" style="display: none;">
                <h3>Rendite-Analyse</h3>
                <div class="result-item">
                    <span class="result-label">Gesamtinvestition:</span>
                    <span class="result-value" id="gesamtinvestitionRendite">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Bruttomietrendite:</span>
                    <span class="result-value" id="bruttomietrendite">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Effektive Jahresmieteinnahmen:</span>
                    <span class="result-value" id="effektiveMiete">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Nettomietrendite:</span>
                    <span class="result-value highlight" id="nettomietrendite">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Bewertung:</span>
                    <span class="result-value" id="renditeBewertung">-</span>
                </div>
            </div>
        </div>
    </div>

    <script src="calculations.js"></script>
    <script>
        // Dark Mode Toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            
            const toggle = document.querySelector('.dark-mode-toggle');
            toggle.textContent = isDarkMode ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
        }

        // Load Dark Mode Preference
        document.addEventListener('DOMContentLoaded', function() {
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            if (savedDarkMode) {
                document.body.classList.add('dark-mode');
                document.querySelector('.dark-mode-toggle').textContent = '‚òÄÔ∏è Light Mode';
            }
        });

        // Tab Navigation
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all nav tabs
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked nav tab
            event.target.classList.add('active');
        }

        // Utility function to format currency
        function formatCurrency(amount) {
            return new Intl.NumberFormat('de-DE', {
                style: 'currency',
                currency: 'EUR'
            }).format(amount);
        }

        // Utility function to format percentage
        function formatPercentage(value) {
            return new Intl.NumberFormat('de-DE', {
                style: 'percent',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(value / 100);
        }
    </script>
</body>
</html>